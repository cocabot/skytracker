# SkyTracker - スカイスポーツライブトラッキング

モダンなデザインのスカイスポーツ用ライブトラッキングアプリです。パラグライダー、ハンググライダー、グライダーなどのフライトを記録・共有できます。

## 🚀 主な機能

### ライブトラッキング
- **リアルタイム位置追跡**: GPS を使用した高精度な位置情報の記録
- **ワンタッチ操作**: 簡単なスタート/ストップボタンでトラッキング開始
- **バックグラウンド追跡**: アプリが非アクティブでも継続して記録

### フライト情報表示
- **現在時刻**: リアルタイムの時刻表示
- **高度**: GPS高度の表示（メートル/フィート対応）
- **スピード**: 現在の速度（km/h または mph）
- **上昇下降率**: バリオメーター機能（m/s または ft/s）
- **飛行時間**: トラッキング開始からの経過時間
- **飛行距離**: 総飛行距離の計算

### 地図機能
- **リアルタイム地図**: Leaflet.js を使用した高性能地図
- **トラックログ表示**: 飛行軌跡の可視化
- **複数地図レイヤー**: 
  - OpenStreetMap（標準）
  - 衛星画像
  - 地形図
- **現在位置マーカー**: 自分の位置をリアルタイム表示
- **地図コントロール**: ズーム、中心移動、フルスクリーン

### グループ機能
- **グループ参加**: 共通のグループコードで他のユーザーと位置共有
- **メンバー表示**: グループメンバーの位置を地図上に表示
- **リアルタイム共有**: メンバーの位置情報をリアルタイム更新
- **緊急時共有**: 緊急事態時の位置情報共有機能

### データエクスポート
- **IGCファイル出力**: 国際標準のIGCフォーマットでフライトログを出力
- **統計情報**: 最高高度、最大速度、上昇率などの詳細統計
- **データ共有**: フライト情報の簡単共有機能

### その他の機能
- **PWA対応**: スマートフォンにインストール可能
- **オフライン対応**: インターネット接続なしでも基本機能が利用可能
- **レスポンシブデザイン**: スマートフォン、タブレット、デスクトップに対応
- **多言語対応**: 日本語インターフェース
- **単位設定**: メートル法/ヤード・ポンド法の切り替え
- **自動保存**: フライトデータの自動保存機能

## 📱 対応環境

### ブラウザ
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### デバイス
- スマートフォン（iOS/Android）
- タブレット
- デスクトップPC
- ノートPC

### 必要な機能
- GPS/位置情報サービス
- インターネット接続（初回読み込み時）

## 🛠️ インストール・セットアップ

### Webアプリとして使用
1. ブラウザで `index.html` を開く
2. 位置情報の許可を求められたら「許可」を選択
3. すぐに使用開始可能

### PWAとしてインストール
1. 対応ブラウザでアプリを開く
2. ブラウザのメニューから「ホーム画面に追加」または「インストール」を選択
3. アプリアイコンがホーム画面に追加される

### ローカル開発環境
```bash
# HTTPSサーバーが必要（位置情報API使用のため）
python -m http.server 8000 --bind localhost
# または
npx serve .
```

## 📖 使用方法

### 基本的な使い方

1. **トラッキング開始**
   - 「トラッキング開始」ボタンをタップ
   - 位置情報の許可を確認
   - 自動的に位置記録が開始

2. **フライト中**
   - リアルタイムで高度、速度、上昇率を確認
   - 地図上で飛行軌跡を確認
   - 必要に応じて地図レイヤーを変更

3. **トラッキング終了**
   - 「トラッキング停止」ボタンをタップ
   - フライトデータが自動保存される

4. **データエクスポート**
   - 「IGCエクスポート」ボタンでファイルダウンロード
   - 他のフライト解析ソフトで利用可能

### グループ機能の使用

1. **グループ作成・参加**
   - 「グループ」ボタンをタップ
   - グループコードを入力して「参加」
   - 他のメンバーと同じコードを使用

2. **位置共有**
   - トラッキング中は自動的に位置が共有される
   - 他のメンバーの位置が地図上に表示される

### 設定のカスタマイズ

1. **基本設定**
   - 「設定」ボタンから設定画面を開く
   - ユーザー名、単位系、GPS精度を設定

2. **詳細設定**
   - 自動保存の有効/無効
   - 地図の初期レイヤー選択

## 🔧 技術仕様

### フロントエンド
- **HTML5**: セマンティックマークアップ
- **CSS3**: モダンなレスポンシブデザイン
- **JavaScript (ES6+)**: モジュール化されたアーキテクチャ
- **Leaflet.js**: 地図表示ライブラリ
- **Font Awesome**: アイコンライブラリ
- **Inter Font**: モダンなタイポグラフィ

### API・機能
- **Geolocation API**: 位置情報取得
- **Service Worker**: オフライン対応・バックグラウンド処理
- **Web App Manifest**: PWA機能
- **Local Storage**: データ永続化
- **Web Share API**: ネイティブ共有機能

### データフォーマット
- **IGC**: 国際グライダー委員会標準フォーマット
- **JSON**: 内部データ形式
- **GeoJSON**: 地理データ交換

## 📊 IGCファイルについて

IGC（International Gliding Commission）ファイルは、グライダーやパラグライダーのフライトログの国際標準フォーマットです。

### 含まれる情報
- フライト日時
- GPS座標（緯度・経度・高度）
- パイロット情報
- 機体情報
- フライト統計

### 対応ソフトウェア
- SeeYou
- XCSoar
- LK8000
- Winpilot
- その他多数のフライト解析ソフト

## 🔒 プライバシー・セキュリティ

### データの取り扱い
- 位置情報はローカルデバイスにのみ保存
- グループ機能はローカルストレージを使用（デモ版）
- 外部サーバーへのデータ送信なし

### セキュリティ機能
- HTTPS必須（位置情報API要件）
- データの暗号化保存
- 自動データクリーンアップ

## 🤝 貢献・開発

### バグ報告
- GitHub Issues で報告
- 再現手順の詳細記載をお願いします

### 機能要望
- GitHub Issues で提案
- 具体的な使用ケースの説明をお願いします

### 開発参加
1. リポジトリをフォーク
2. 機能ブランチを作成
3. 変更をコミット
4. プルリクエストを作成

## 📄 ライセンス

MIT License - 詳細は LICENSE ファイルを参照

## 🆘 サポート・FAQ

### よくある質問

**Q: 位置情報が取得できません**
A: ブラウザの位置情報許可設定を確認してください。HTTPSでアクセスしていることも確認してください。

**Q: バックグラウンドで動作しますか？**
A: PWAとしてインストールすることで、限定的なバックグラウンド動作が可能です。

**Q: データはどこに保存されますか？**
A: すべてのデータはお使いのデバイスのローカルストレージに保存されます。

**Q: オフラインで使用できますか？**
A: 初回読み込み後は、基本的な機能をオフラインで使用できます。

### トラブルシューティング

1. **GPS精度が悪い場合**
   - 屋外での使用を推奨
   - 設定でGPS精度を「高精度」に変更

2. **アプリが重い場合**
   - ブラウザのキャッシュをクリア
   - 他のタブを閉じる

3. **グループ機能が動作しない場合**
   - 同じグループコードを使用しているか確認
   - ローカルストレージが有効か確認

## 🔄 更新履歴

### v1.0.0 (2024-01-01)
- 初回リリース
- 基本的なトラッキング機能
- IGCエクスポート機能
- グループ共有機能
- PWA対応

---

**SkyTracker** - Safe flights, shared adventures! ✈️